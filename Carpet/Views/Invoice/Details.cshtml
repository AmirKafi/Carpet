@model Carpet.Models.DTOs.InvoiceDto
@{
    ViewData["Title"] = "جزئیات فاکتور";
}

<div class="container py-4">
    <div class="card">
        <div class="card-header">
            <h4>جزئیات فاکتور</h4>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-6">
                    <strong>شماره فاکتور:</strong> @Model.InvoiceNo
                </div>
                <div class="col-md-6">
                    <strong>نام مشتری:</strong> @Model.CustomerName
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <strong>تاریخ فاکتور:</strong> @Model.InvoiceDate.ToString("yyyy/MM/dd")
                </div>
                <div class="col-md-6">
                    <strong>تاریخ ثبت:</strong> @Model.CreatedDate.ToString("yyyy/MM/dd HH:mm")
                </div>
            </div>

            <hr>

            <h5>آیتم‌های فاکتور</h5>
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>ردیف</th>
                        <th>نام فرش</th>
                        <th>تعداد</th>
                        <th>قیمت واحد</th>
                        <th>مبلغ کل</th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < Model.Items.Count; i++)
                    {
                        <tr>
                            <td>@(i + 1)</td>
                            <td>@Model.Items[i].CarpetName</td>
                            <td>@Model.Items[i].Quantity</td>
                            <td>@Model.Items[i].UnitPrice.ToString("N0") تومان</td>
                            <td>@Model.Items[i].TotalPrice.ToString("N0") تومان</td>
                        </tr>
                    }
                </tbody>
            </table>

            <div class="text-end mt-3">
                <p><strong>جمع کل:</strong> @Model.TotalAmount.ToString("N0") تومان</p>
                <p><strong>مالیات (9٪):</strong> @Model.Tax.ToString("N0") تومان</p>
                <h5><strong>مبلغ نهایی:</strong> @Model.FinalTotal.ToString("N0") تومان</h5>
            </div>

            <div class="mt-4">
                <a href="@Url.Action("Index", "Invoice")" class="btn btn-secondary">بازگشت به لیست</a>
            </div>
        </div>
    </div>
</div>

<style>
    body {
        direction: rtl;
    }
</style>

